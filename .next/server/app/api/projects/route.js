"use strict";(()=>{var e={};e.id=871,e.ids=[871],e.modules={2663:e=>{e.exports=require("mongoose")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},3966:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>S,originalPathname:()=>v,patchFetch:()=>x,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>q,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>h});var s={};r.r(s),r.d(s,{GET:()=>d,POST:()=>l});var o=r(5419),n=r(9108),a=r(9678),i=r(2766),u=r(8984),c=r(6082),p=r.n(c);async function d(e){try{let e=await i.i.find();return u.NextResponse.json(e)}catch(e){return console.log(e),u.NextResponse.json({message:"Failed to find Tasks",success:!1})}}async function l(e){let{title:t,content:r,language:s,stack:o,status:n,appType:a,userId:c}=await e.json(),d=e.cookies.get("MKauthtoken")?.value,l=p().verify(d,process.env.JWT_TOKEN);try{let e=new i.i({title:t,content:r,language:s,stack:o,appType:a,status:n,userId:l._id}),c=await e.save();return u.NextResponse.json(c,{status:201})}catch(e){return console.log(e),u.NextResponse.json({message:"Failed to create Task !!!",success:!1})}}(0,r(6482).Q)();let g=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/projects/route",pathname:"/api/projects",filename:"route",bundlePath:"app/api/projects/route"},resolvedPagePath:"C:\\Users\\Fahad MK\\Desktop\\nexttesting\\src\\app\\api\\projects\\route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:m,staticGenerationAsyncStorage:y,serverHooks:q,headerHooks:S,staticGenerationBailout:h}=g,v="/api/projects/route";function x(){return(0,a.patchFetch)({serverHooks:q,staticGenerationAsyncStorage:y})}},6482:(e,t,r)=>{r.d(t,{Q:()=>n});var s=r(2663),o=r.n(s);r(8582);let n=async()=>{try{let{connection:e}=await o().connect(process.env.MONGO_DB_URL,{dbName:"work_manager",useNewUrlParser:!0,useUnifiedTopology:!0,serverSelectionTimeoutMS:1e4,socketTimeoutMS:45e3,connectTimeoutMS:3e4});console.log("Database Connected"),console.log("Connected with Host",e.host)}catch(e){console.log("Failed to connect Database"),console.log(e)}}},2766:(e,t,r)=>{r.d(t,{i:()=>a});var s=r(2663),o=r.n(s);let n=new(o()).Schema({title:{type:String,required:!0},content:{type:String,required:!0},language:{type:String,required:!0},stack:{type:String,required:!0},appType:{type:String,required:!0},addedDate:{type:Date,required:!0,default:Date.now()},status:{type:String},userId:{type:o().ObjectId,required:!0}}),a=o().models.tasks||o().model("tasks",n)},8582:(e,t,r)=>{r.d(t,{n:()=>a});var s=r(2663),o=r.n(s);let n=new s.Schema({name:String,email:{type:String,unique:!0,required:[!0,"Email is required!"]},password:{type:String,required:[!0,"Password is required!"]},about:String,profileURL:String}),a=o().connection.models.users||o().model("users",n)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,791,82],()=>r(3966));module.exports=s})();