"use strict";(()=>{var e={};e.id=588,e.ids=[588],e.modules={2663:e=>{e.exports=require("mongoose")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6653:(e,s,t)=>{t.r(s),t.d(s,{headerHooks:()=>w,originalPathname:()=>y,patchFetch:()=>R,requestAsyncStorage:()=>m,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>x,staticGenerationBailout:()=>v});var r={};t.r(r),t.d(r,{DELETE:()=>l,GET:()=>d,PUT:()=>p});var o=t(5419),n=t(9108),a=t(9678),i=t(6482),u=t(8582),c=t(8984);async function d(e,{params:s}){let{userId:t}=s;try{let e=await u.n.findById(t).select("-password");return c.NextResponse.json(e)}catch(e){return console.log(e),c.NextResponse.json({message:"Cant Find User",success:!1})}}async function p(e,{params:s}){let{userId:t}=s,{name:r,password:o,about:n,profileURL:a}=await e.json();try{let e=await u.n.findById(t);e.name=r,e.about=n,e.password=o,e.profileURL=a;let s=await e.save();return c.NextResponse.json(s)}catch(e){console.log(e),c.NextResponse.json({message:"error Updating User !!",success:!1})}}async function l(e,{params:s}){let{userId:t}=s;try{return await u.n.deleteOne({_id:t}),c.NextResponse.json({message:"User Deleted !!",success:!0})}catch(e){return c.NextResponse.json({message:"User Not Deleted",success:!1})}}t(2),(0,i.Q)();let g=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/users/[userId]/route",pathname:"/api/users/[userId]",filename:"route",bundlePath:"app/api/users/[userId]/route"},resolvedPagePath:"C:\\Users\\Fahad MK\\Desktop\\nexttesting\\src\\app\\api\\users\\[userId]\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:x,serverHooks:h,headerHooks:w,staticGenerationBailout:v}=g,y="/api/users/[userId]/route";function R(){return(0,a.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:x})}},482:(e,s,t)=>{e.exports=t(399)},2:(e,s,t)=>{e.exports=t(482).vendored["react-rsc"].React},6482:(e,s,t)=>{t.d(s,{Q:()=>n});var r=t(2663),o=t.n(r);t(8582);let n=async()=>{try{let{connection:e}=await o().connect(process.env.MONGO_DB_URL,{dbName:"work_manager",useNewUrlParser:!0,useUnifiedTopology:!0,serverSelectionTimeoutMS:1e4,socketTimeoutMS:45e3,connectTimeoutMS:3e4});console.log("Database Connected"),console.log("Connected with Host",e.host)}catch(e){console.log("Failed to connect Database"),console.log(e)}}},8582:(e,s,t)=>{t.d(s,{n:()=>a});var r=t(2663),o=t.n(r);let n=new r.Schema({name:String,email:{type:String,unique:!0,required:[!0,"Email is required!"]},password:{type:String,required:[!0,"Password is required!"]},about:String,profileURL:String}),a=o().connection.models.users||o().model("users",n)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,791],()=>t(6653));module.exports=r})();